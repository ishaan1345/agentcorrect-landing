<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentCorrect - Block agent disasters before deploy</title>
    <meta name="description" content="Deterministic CI guardrails that fail the build when your agent would duplicate charges, wipe data, or nuke caches. Exit code 2 blocks bad deploys.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'dark-bg': '#0B0F19',
                        'dark-surface': '#0F172A',
                        'cyan-accent': '#22D3EE',
                        'cyan-hover': '#06B6D4',
                    }
                }
            }
        }
    </script>
    
    <style>
        * { 
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        code, pre {
            font-family: ui-monospace, SFMono-Regular, 'SF Mono', Menlo, Consolas, 'Liberation Mono', monospace;
        }
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        .copy-button {
            transition: all 150ms ease-out;
        }
        .copy-button:hover {
            transform: translateY(-1px);
        }
        .copy-button:active {
            transform: translateY(0);
        }
        .toast {
            animation: slide-up 250ms ease-out;
        }
        @keyframes slide-up {
            from {
                transform: translateY(10px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
    </style>
    
    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "AgentCorrect",
        "applicationCategory": "DeveloperTools",
        "operatingSystem": "Linux, macOS, Windows",
        "description": "CI/CD guardrails for AI agents. Catches payment idempotency issues, SQL disasters, and infrastructure wipes.",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
</head>
<body class="bg-dark-bg text-gray-300">
    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50"></div>
    
    <!-- Navbar -->
    <nav class="fixed top-0 w-full bg-dark-bg/90 backdrop-blur-sm border-b border-gray-800 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-14">
                <div class="flex items-center gap-8">
                    <div class="flex items-center gap-2">
                        <svg class="w-6 h-6 text-cyan-accent" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                        </svg>
                        <span class="font-bold text-white">AgentCorrect</span>
                    </div>
                    <div class="hidden md:flex items-center gap-6">
                        <a href="#docs" class="text-gray-400 hover:text-white transition-colors">Docs</a>
                        <a href="https://github.com/ishaan1345/agentcorrect" class="text-gray-400 hover:text-white transition-colors">GitHub</a>
                        <a href="#pricing" class="text-gray-400 hover:text-white transition-colors">Pricing</a>
                    </div>
                </div>
                <button onclick="copyGitHubAction()" class="copy-button px-4 py-1.5 bg-cyan-accent text-dark-bg font-medium rounded hover:bg-cyan-hover">
                    Copy CI step
                </button>
            </div>
        </div>
    </nav>
    
    <!-- Hero Section -->
    <section class="pt-24 pb-16 px-4">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-4xl sm:text-5xl font-bold text-white mb-4">
                Block agent disasters before deploy.
            </h1>
            <p class="text-lg text-gray-400 mb-8">
                Deterministic CI guardrails that fail the build when your agent would duplicate charges, wipe data, or nuke caches.
            </p>
            
            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row gap-4 mb-8">
                <button onclick="copyGitHubAction()" class="copy-button px-6 py-3 bg-cyan-accent text-dark-bg font-bold rounded hover:bg-cyan-hover">
                    Copy CI step
                </button>
                <button onclick="openDemo()" class="px-6 py-3 border border-gray-700 text-gray-300 font-bold rounded hover:bg-dark-surface">
                    Try demo on sample traces
                </button>
            </div>
            
            <!-- Trust Badges -->
            <div class="flex flex-wrap gap-4 mb-8">
                <div class="flex items-center gap-2 px-3 py-1 bg-dark-surface rounded-full border border-gray-800">
                    <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-sm">Local & offline</span>
                </div>
                <div class="flex items-center gap-2 px-3 py-1 bg-dark-surface rounded-full border border-gray-800">
                    <svg class="w-4 h-4 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    <span class="text-sm">Deterministic</span>
                </div>
                <div class="flex items-center gap-2 px-3 py-1 bg-dark-surface rounded-full border border-gray-800">
                    <span class="text-sm font-mono text-red-400">Exit 2</span>
                    <span class="text-sm">= Build blocked</span>
                </div>
            </div>
            
            <!-- Sample Finding -->
            <div class="bg-dark-surface rounded-lg border border-gray-800 p-4 font-mono text-sm">
                <div class="text-red-400 mb-2">❌ Sev-0  Missing payment idempotency</div>
                <div class="text-gray-400 ml-6 space-y-1">
                    <div>POST https://api.stripe.com/v1/charges</div>
                    <div class="text-yellow-400">Why: Stripe relies on Idempotency-Key to prevent duplicate charges.</div>
                    <div class="text-green-400">Fix: Add header `Idempotency-Key: &lt;uuid-v4&gt;`</div>
                    <div class="text-blue-400">Docs → <a href="https://docs.stripe.com/api/idempotent_requests" class="underline">https://docs.stripe.com/api/idempotent_requests</a></div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- How It Works -->
    <section class="py-16 px-4 bg-dark-surface">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-8">How it works</h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <div class="space-y-2">
                    <div class="text-cyan-accent font-bold">1. Run agent tests</div>
                    <p class="text-sm text-gray-400">Your CI runs agent tests that generate traces.jsonl</p>
                </div>
                <div class="space-y-2">
                    <div class="text-cyan-accent font-bold">2. Analyze locally</div>
                    <p class="text-sm text-gray-400">AgentCorrect checks traces offline, no network needed</p>
                </div>
                <div class="space-y-2">
                    <div class="text-cyan-accent font-bold">3. Block bad deploys</div>
                    <p class="text-sm text-gray-400">Exit code 2 fails the build, production stays safe</p>
                </div>
            </div>
            
            <!-- GitHub Actions Example -->
            <div class="mt-8 space-y-2">
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-400">GitHub Actions</span>
                    <button onclick="copyGitHubAction()" class="copy-button text-xs px-2 py-1 bg-dark-bg border border-gray-700 rounded hover:bg-gray-800">
                        Copy
                    </button>
                </div>
                <pre class="bg-dark-bg rounded-lg p-4 overflow-x-auto border border-gray-800"><code class="text-sm"># .github/workflows/agentcorrect.yml
name: AgentCorrect
on:
  push: { branches: [ main ] }
  pull_request:
jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: pipx install agentcorrect
      - run: agentcorrect analyze traces.jsonl
        # Exit 2 = Build fails</code></pre>
            </div>
        </div>
    </section>
    
    <!-- Detectors -->
    <section class="py-16 px-4">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-8">What we catch</h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Payments Card -->
                <div class="bg-dark-surface rounded-lg border border-gray-800 p-6">
                    <div class="text-cyan-accent font-bold mb-3">Payments</div>
                    <div class="space-y-3">
                        <div>
                            <div class="text-sm font-medium text-white">Missing idempotency</div>
                            <div class="text-xs text-gray-400 mt-1">Stripe, PayPal, Square, Adyen + 21 more</div>
                        </div>
                        <div class="text-xs space-y-1">
                            <div class="text-yellow-400">Why: Retries create duplicate charges</div>
                            <div class="text-green-400">Fix: Add provider's idempotency header</div>
                            <div class="text-blue-400">
                                Docs: <a href="https://stripe.com/docs/api/idempotent_requests" class="underline">Stripe</a> |
                                <a href="https://developer.paypal.com/docs/api/reference/api-requests/#http-request-headers" class="underline">PayPal</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- SQL Card -->
                <div class="bg-dark-surface rounded-lg border border-gray-800 p-6">
                    <div class="text-cyan-accent font-bold mb-3">SQL</div>
                    <div class="space-y-3">
                        <div>
                            <div class="text-sm font-medium text-white">DELETE/UPDATE without WHERE</div>
                            <div class="text-xs text-gray-400 mt-1">Also catches tautologies like WHERE 1=1</div>
                        </div>
                        <div class="text-xs space-y-1">
                            <div class="text-yellow-400">Why: Affects all rows, data loss</div>
                            <div class="text-green-400">Fix: Add specific WHERE conditions</div>
                            <div class="text-blue-400">
                                Docs: <a href="https://owasp.org/www-community/attacks/SQL_Injection" class="underline">OWASP SQL</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Infrastructure Card -->
                <div class="bg-dark-surface rounded-lg border border-gray-800 p-6">
                    <div class="text-cyan-accent font-bold mb-3">Infrastructure</div>
                    <div class="space-y-3">
                        <div>
                            <div class="text-sm font-medium text-white">Cache & DB wipes</div>
                            <div class="text-xs text-gray-400 mt-1">Redis FLUSHALL, MongoDB drop, S3 DeleteBucket</div>
                        </div>
                        <div class="text-xs space-y-1">
                            <div class="text-yellow-400">Why: Service outage, data loss</div>
                            <div class="text-green-400">Fix: Use targeted deletes</div>
                            <div class="text-blue-400">
                                Docs: <a href="https://redis.io/commands/flushall/" class="underline">Redis</a> |
                                <a href="https://docs.mongodb.com/manual/reference/method/db.dropDatabase/" class="underline">MongoDB</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Coverage Honesty -->
    <section class="py-16 px-4 bg-dark-surface">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-8">Coverage transparency</h2>
            
            <div class="space-y-6">
                <!-- Payments Coverage -->
                <div>
                    <div class="flex justify-between mb-2">
                        <span class="text-sm text-gray-400">Payments</span>
                        <span class="text-sm font-mono text-gray-400">42 eligible / 38 checked</span>
                    </div>
                    <div class="w-full bg-dark-bg rounded-full h-2 overflow-hidden">
                        <div class="bg-cyan-accent h-full" style="width: 90.5%"></div>
                    </div>
                    <details class="mt-2">
                        <summary class="text-xs text-gray-500 cursor-pointer hover:text-gray-400">4 unparseable (click to expand)</summary>
                        <pre class="mt-2 p-2 bg-dark-bg rounded text-xs overflow-x-auto"><code>// Missing required fields:
{"url": "api.stripe.com", "headers": null}  // headers missing
{"method": "POST"}  // url missing</code></pre>
                    </details>
                </div>
                
                <!-- SQL Coverage -->
                <div>
                    <div class="flex justify-between mb-2">
                        <span class="text-sm text-gray-400">SQL</span>
                        <span class="text-sm font-mono text-gray-400">15 eligible / 15 checked</span>
                    </div>
                    <div class="w-full bg-dark-bg rounded-full h-2 overflow-hidden">
                        <div class="bg-green-500 h-full" style="width: 100%"></div>
                    </div>
                </div>
                
                <!-- Scope Note -->
                <div class="text-xs text-gray-500 mt-4">
                    <p class="font-medium mb-1">Day-1 scope:</p>
                    <ul class="space-y-0.5">
                        <li>✓ Payment idempotency (25 providers)</li>
                        <li>✓ SQL DELETE/UPDATE without WHERE</li>
                        <li>✓ Redis FLUSHALL, MongoDB drops</li>
                        <li>✗ GraphQL mutations (coming soon)</li>
                        <li>✗ Webhook signatures (coming soon)</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Live Demo -->
    <section id="demo" class="py-16 px-4">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-4">Try it (browser-only)</h2>
            <p class="text-sm text-gray-400 mb-6">All analysis happens in your browser. Nothing leaves this page.</p>
            
            <div class="space-y-4">
                <div class="flex gap-2">
                    <button onclick="useSampleTraces()" class="px-3 py-1 bg-dark-surface border border-gray-700 rounded text-sm hover:bg-gray-800">
                        Use sample traces
                    </button>
                    <button onclick="clearDemo()" class="px-3 py-1 bg-dark-surface border border-gray-700 rounded text-sm hover:bg-gray-800">
                        Clear
                    </button>
                </div>
                
                <textarea 
                    id="demo-input"
                    class="w-full h-40 p-3 bg-dark-surface border border-gray-800 rounded font-mono text-xs text-gray-300 placeholder-gray-600"
                    placeholder='Paste JSONL traces (max 200 lines)&#10;{"timestamp":"2025-01-20T10:00:00Z","role":"http","meta":{"http":{"method":"POST","url":"https://api.stripe.com/v1/charges","headers":{}}}}'
                ></textarea>
                
                <button onclick="analyzeDemo()" class="px-4 py-2 bg-cyan-accent text-dark-bg font-bold rounded hover:bg-cyan-hover">
                    Analyze
                </button>
                
                <div id="demo-results" class="hidden space-y-2"></div>
            </div>
        </div>
    </section>
    
    <!-- Install -->
    <section class="py-16 px-4 bg-dark-surface">
        <div class="max-w-4xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-8">Install</h2>
            
            <div class="space-y-4">
                <!-- Tab buttons -->
                <div class="flex gap-2">
                    <button onclick="showInstallTab('pip')" class="install-tab px-3 py-1 bg-dark-bg border border-gray-700 rounded text-sm" data-tab="pip">pip</button>
                    <button onclick="showInstallTab('pipx')" class="install-tab px-3 py-1 bg-dark-surface border border-gray-700 rounded text-sm" data-tab="pipx">pipx</button>
                </div>
                
                <!-- Tab content -->
                <div id="install-pip" class="install-content">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-gray-400">Install with pip</span>
                        <button onclick="copyCommand('pip install agentcorrect')" class="copy-button text-xs px-2 py-1 bg-dark-bg border border-gray-700 rounded hover:bg-gray-800">
                            Copy
                        </button>
                    </div>
                    <pre class="bg-dark-bg rounded-lg p-4 overflow-x-auto border border-gray-800"><code class="text-sm">pip install agentcorrect
agentcorrect analyze traces.jsonl
echo $?  # 2 == Sev-0 found</code></pre>
                </div>
                
                <div id="install-pipx" class="install-content hidden">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-sm text-gray-400">Install with pipx (recommended)</span>
                        <button onclick="copyCommand('pipx install agentcorrect')" class="copy-button text-xs px-2 py-1 bg-dark-bg border border-gray-700 rounded hover:bg-gray-800">
                            Copy
                        </button>
                    </div>
                    <pre class="bg-dark-bg rounded-lg p-4 overflow-x-auto border border-gray-800"><code class="text-sm">pipx install agentcorrect
agentcorrect analyze traces.jsonl
echo $?  # 2 == Sev-0 found</code></pre>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Pricing -->
    <section id="pricing" class="py-16 px-4">
        <div class="max-w-5xl mx-auto">
            <h2 class="text-2xl font-bold text-white mb-8 text-center">Pricing</h2>
            
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Free -->
                <div class="bg-dark-surface rounded-lg border border-gray-800 p-6">
                    <div class="text-lg font-bold text-white mb-2">Free</div>
                    <div class="text-3xl font-bold text-white mb-4">$0</div>
                    <div class="text-sm text-gray-400 mb-6">CLI, core rules, local analysis</div>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>25+ payment providers</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>SQL & infra checks</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>OPA/REGO policies</span>
                        </li>
                    </ul>
                    <div class="mt-6 text-xs text-gray-500">No credit card required</div>
                </div>
                
                <!-- Pro -->
                <div class="bg-dark-surface rounded-lg border border-cyan-accent p-6">
                    <div class="text-lg font-bold text-white mb-2">Pro</div>
                    <div class="text-3xl font-bold text-white mb-4">$49<span class="text-sm text-gray-400">/month</span></div>
                    <div class="text-sm text-gray-400 mb-6">Additional providers & rules</div>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Everything in Free</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>GraphQL mutations</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>HTML reports</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Email support</span>
                        </li>
                    </ul>
                </div>
                
                <!-- Enterprise -->
                <div class="bg-dark-surface rounded-lg border border-gray-800 p-6">
                    <div class="text-lg font-bold text-white mb-2">Enterprise</div>
                    <div class="text-3xl font-bold text-white mb-4">Custom</div>
                    <div class="text-sm text-gray-400 mb-6">Custom rules, SSO, SLAs</div>
                    <ul class="space-y-2 text-sm text-gray-400">
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Everything in Pro</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>Custom rules</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>SAML/SSO</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg class="w-4 h-4 text-green-500 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                            </svg>
                            <span>SOC2 mapping</span>
                        </li>
                    </ul>
                    <button class="mt-6 w-full px-4 py-2 bg-dark-bg border border-gray-700 rounded text-sm hover:bg-gray-800">
                        Contact sales
                    </button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="py-12 px-4 bg-dark-surface border-t border-gray-800">
        <div class="max-w-6xl mx-auto">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <svg class="w-5 h-5 text-cyan-accent" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"/>
                        </svg>
                        <span class="font-bold text-white">AgentCorrect</span>
                    </div>
                    <p class="text-xs text-gray-400">Block agent disasters before deploy</p>
                </div>
                
                <div>
                    <h3 class="text-sm font-medium text-white mb-3">Resources</h3>
                    <ul class="space-y-2 text-xs text-gray-400">
                        <li><a href="#docs" class="hover:text-white">Documentation</a></li>
                        <li><a href="https://github.com/ishaan1345/agentcorrect/blob/main/CHANGELOG.md" class="hover:text-white">Changelog</a></li>
                        <li><a href="https://github.com/ishaan1345/agentcorrect" class="hover:text-white">GitHub</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-sm font-medium text-white mb-3">Legal</h3>
                    <ul class="space-y-2 text-xs text-gray-400">
                        <li><a href="#privacy" class="hover:text-white">Privacy</a></li>
                        <li><a href="#security" class="hover:text-white">Security</a></li>
                        <li><a href="https://github.com/ishaan1345/agentcorrect/blob/main/LICENSE" class="hover:text-white">MIT License</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3 class="text-sm font-medium text-white mb-3">Stay updated</h3>
                    <form class="flex gap-2">
                        <input type="email" placeholder="you@example.com" class="flex-1 px-3 py-1 bg-dark-bg border border-gray-700 rounded text-sm placeholder-gray-600 focus:outline-none focus:border-cyan-accent">
                        <button type="submit" class="px-3 py-1 bg-cyan-accent text-dark-bg font-medium rounded text-sm hover:bg-cyan-hover">
                            Subscribe
                        </button>
                    </form>
                    <p class="text-xs text-gray-500 mt-2">No spam. Unsubscribe anytime.</p>
                </div>
            </div>
            
            <div class="mt-8 pt-8 border-t border-gray-800 text-center text-xs text-gray-500">
                © 2025 AgentCorrect. Built to prevent disasters.
            </div>
        </div>
    </footer>
    
    <!-- Sticky Bottom Bar (appears after scroll) -->
    <div id="sticky-bar" class="fixed bottom-0 left-0 right-0 bg-dark-bg/95 backdrop-blur-sm border-t border-gray-800 py-3 px-4 hidden">
        <div class="max-w-4xl mx-auto flex items-center justify-between">
            <span class="text-sm text-gray-400">Ready to block disasters?</span>
            <div class="flex gap-3">
                <button onclick="copyCommand('pipx install agentcorrect')" class="copy-button px-3 py-1 bg-dark-surface border border-gray-700 rounded text-sm hover:bg-gray-800">
                    Install
                </button>
                <button onclick="copyGitHubAction()" class="copy-button px-3 py-1 bg-cyan-accent text-dark-bg font-medium rounded text-sm hover:bg-cyan-hover">
                    Copy CI step
                </button>
                <button onclick="openDemo()" class="px-3 py-1 border border-gray-700 rounded text-sm hover:bg-dark-surface">
                    Try demo
                </button>
            </div>
        </div>
    </div>
    
    <script>
        // GitHub Actions YAML
        const githubActionYaml = `# .github/workflows/agentcorrect.yml
name: AgentCorrect
on:
  push: { branches: [ main ] }
  pull_request:
jobs:
  analyze:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: pipx install agentcorrect
      - run: agentcorrect analyze traces.jsonl`;

        // Sample traces for demo
        const sampleTraces = `{"timestamp":"2025-01-20T10:00:00Z","role":"http","meta":{"http":{"method":"POST","url":"https://api.stripe.com/v1/charges","headers":{}}}}
{"timestamp":"2025-01-20T10:01:00Z","role":"sql","meta":{"sql":{"query":"DELETE FROM users WHERE 1=1"}}}
{"timestamp":"2025-01-20T10:02:00Z","role":"redis","meta":{"redis":{"command":"FLUSHALL"}}}`;

        // Copy functions
        async function copyToClipboard(text, buttonElement = null) {
            try {
                await navigator.clipboard.writeText(text);
                showToast('Copied ✓');
                
                if (buttonElement) {
                    const originalText = buttonElement.textContent;
                    buttonElement.textContent = 'Copied ✓';
                    setTimeout(() => {
                        buttonElement.textContent = originalText;
                    }, 2000);
                }
            } catch (err) {
                showToast('Copy failed', 'error');
            }
        }

        function copyGitHubAction() {
            copyToClipboard(githubActionYaml);
        }

        function copyCommand(command) {
            copyToClipboard(command);
        }

        // Toast notifications
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast px-4 py-2 rounded ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white text-sm font-medium`;
            toast.textContent = message;
            
            const container = document.getElementById('toast-container');
            container.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Demo functions
        function openDemo() {
            document.getElementById('demo').scrollIntoView({ behavior: 'smooth' });
            useSampleTraces();
        }

        function useSampleTraces() {
            document.getElementById('demo-input').value = sampleTraces;
        }

        function clearDemo() {
            document.getElementById('demo-input').value = '';
            document.getElementById('demo-results').classList.add('hidden');
        }

        function analyzeDemo() {
            const input = document.getElementById('demo-input').value;
            if (!input.trim()) {
                showToast('Please enter some traces', 'error');
                return;
            }

            const results = document.getElementById('demo-results');
            results.innerHTML = '';
            results.classList.remove('hidden');

            let exitCode = 0;
            const lines = input.trim().split('\n').slice(0, 200); // Max 200 lines
            
            lines.forEach(line => {
                try {
                    const trace = JSON.parse(line);
                    
                    // Check for payment idempotency
                    if (trace.role === 'http' && trace.meta?.http?.url?.includes('stripe.com')) {
                        if (!trace.meta.http.headers?.['Idempotency-Key']) {
                            exitCode = 2;
                            results.innerHTML += `
                                <div class="bg-dark-surface rounded p-3 border border-red-500/50">
                                    <div class="text-red-400 font-bold text-sm mb-1">❌ Sev-0: Missing payment idempotency</div>
                                    <div class="text-xs text-gray-400 space-y-0.5 ml-6">
                                        <div>POST ${trace.meta.http.url}</div>
                                        <div class="text-yellow-400">Why: Stripe requires Idempotency-Key</div>
                                        <div class="text-green-400">Fix: Add header 'Idempotency-Key: &lt;uuid&gt;'</div>
                                    </div>
                                </div>
                            `;
                        }
                    }
                    
                    // Check for SQL disasters
                    if (trace.role === 'sql' && trace.meta?.sql?.query) {
                        const query = trace.meta.sql.query.toUpperCase();
                        if ((query.includes('DELETE') && !query.includes('WHERE')) || query.includes('WHERE 1=1')) {
                            exitCode = 2;
                            results.innerHTML += `
                                <div class="bg-dark-surface rounded p-3 border border-red-500/50">
                                    <div class="text-red-400 font-bold text-sm mb-1">❌ Sev-0: Dangerous SQL operation</div>
                                    <div class="text-xs text-gray-400 space-y-0.5 ml-6">
                                        <div>${trace.meta.sql.query}</div>
                                        <div class="text-yellow-400">Why: Affects all rows</div>
                                        <div class="text-green-400">Fix: Add specific WHERE conditions</div>
                                    </div>
                                </div>
                            `;
                        }
                    }
                    
                    // Check for Redis FLUSHALL
                    if (trace.role === 'redis' && trace.meta?.redis?.command?.toUpperCase().includes('FLUSHALL')) {
                        exitCode = 2;
                        results.innerHTML += `
                            <div class="bg-dark-surface rounded p-3 border border-red-500/50">
                                <div class="text-red-400 font-bold text-sm mb-1">❌ Sev-0: Redis cache wipe</div>
                                <div class="text-xs text-gray-400 space-y-0.5 ml-6">
                                    <div>Command: ${trace.meta.redis.command}</div>
                                    <div class="text-yellow-400">Why: Deletes all keys</div>
                                    <div class="text-green-400">Fix: Use targeted DEL</div>
                                </div>
                            </div>
                        `;
                    }
                } catch (e) {
                    // Invalid JSON line, skip
                }
            });

            // Add exit code
            results.innerHTML += `
                <div class="mt-4 p-3 bg-dark-surface rounded border ${exitCode === 0 ? 'border-green-500/50' : 'border-red-500/50'}">
                    <div class="font-mono text-sm ${exitCode === 0 ? 'text-green-400' : 'text-red-400'}">
                        Exit code: ${exitCode} ${exitCode === 0 ? '✓ Clean' : '✗ Build would fail'}
                    </div>
                </div>
            `;
        }

        // Install tabs
        function showInstallTab(tab) {
            // Hide all content
            document.querySelectorAll('.install-content').forEach(el => el.classList.add('hidden'));
            // Reset all tabs
            document.querySelectorAll('.install-tab').forEach(el => {
                el.classList.remove('bg-dark-bg');
                el.classList.add('bg-dark-surface');
            });
            
            // Show selected
            document.getElementById(`install-${tab}`).classList.remove('hidden');
            document.querySelector(`[data-tab="${tab}"]`).classList.remove('bg-dark-surface');
            document.querySelector(`[data-tab="${tab}"]`).classList.add('bg-dark-bg');
        }

        // Sticky bar on scroll
        window.addEventListener('scroll', () => {
            const stickyBar = document.getElementById('sticky-bar');
            if (window.scrollY > 600) {
                stickyBar.classList.remove('hidden');
            } else {
                stickyBar.classList.add('hidden');
            }
        });

        // Initialize
        showInstallTab('pip');
    </script>
</body>
</html>